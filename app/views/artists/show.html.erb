<style>div{border: 1px solid black;}</style>

<p id="notice"><%= notice %></p>
<div class="row">
  <div class="large-2 column">
    <div class="artist-block">
      <h1>
        <%= @artist.name %>
      </h1>
      <% if @artist.description != '' %>
       | <h2><%= @artist.description %></h2>
      <% end %>


      <p>
        New York City, NY, USA
      </p>
    </div>
    <div class="tagdata-block">
      <span class="label">Verified</span>
      <span class="label secondary">Artist Network</span>
    </div>
    <div class="hiredata-block">

    </div>
  </div>
  <div class="large-5 column">
    <div class="large-12">
      <h3>
        Locations
      </h3>
    </div>

    <!-- Location Block -->
    <% @pieces.each do |piece| %>
      <div class="row">
        <%= link_to piece do %>
          <%= image_tag piece.images, :class=>'large-3' %>
          <%= piece.description %>
        <% end %>
        <%= link_to piece.location do %>
          <%= piece.location.name %>
          <%= piece.location.longitude %>
          <%= piece.location.latitude %>
        <% end %>
      </div>
    <% end %>
    <!-- Location Block End -->

  </div>
  <div class="large-5 column location-block">
    <div class="large-12">
      <h3>
        Stats
      </h3>
    </div>
    <%#= render 'artists/visualization_block' %>
    <div class="row">
      <canvas id="canvas" height="450" width="600"></canvas>
    </div>
    <div class="row">
      <h2><%= @pieces.count %> Pieces</h2>
      <h2><%= @unique_locations.count %> Places</h2>
    </div>

    <%= render 'artists/socialprint_block' %>


    <script>
    var randomScalingFactor = function(){ return Math.round(Math.random()*100)};
    var lineChartData = {
      labels : ["January","February","March","April","May","June","July"],
      datasets : [
        {
          label: "My First dataset",
          fillColor : "rgba(220,220,220,0.2)",
          strokeColor : "rgba(220,220,220,1)",
          pointColor : "rgba(220,220,220,1)",
          pointStrokeColor : "#fff",
          pointHighlightFill : "#fff",
          pointHighlightStroke : "rgba(220,220,220,1)",
          data : [randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor()]
        },
        {
          label: "My Second dataset",
          fillColor : "rgba(151,187,205,0.2)",
          strokeColor : "rgba(151,187,205,1)",
          pointColor : "rgba(151,187,205,1)",
          pointStrokeColor : "#fff",
          pointHighlightFill : "#fff",
          pointHighlightStroke : "rgba(151,187,205,1)",
          data : [randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor()]
        }
      ]

    }

  window.onload = function(){
    var ctx = document.getElementById("canvas").getContext("2d");
    window.myLine = new Chart(ctx).Line(lineChartData, {
      responsive: true
    });
  }


  </script>

  </div>
</div>

<div class="row">
  <div class="large-12 column">
    <h4>Visualization</h4>
  </div>
</div>


<%= link_to 'Edit', edit_artist_path(@artist) %> |
<%= link_to 'Back', artists_path %>
